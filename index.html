<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Flu Tools 3000 Ultra Hub</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
<style>
/* --- Basic Reset --- */
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Inter',sans-serif;background:#0f0f0f;color:white;overflow:hidden;}
h1{text-align:center;color:#9b59b6;font-size:3em;margin:20px 0;}

/* --- Tabs --- */
.tabs{display:flex;justify-content:center;flex-wrap:wrap;margin-bottom:20px;position:relative;z-index:5;}
.tab{padding:10px 20px;margin:5px;background:#222;border-radius:12px;cursor:pointer;transition:0.3s;}
.tab:hover,.tab.active{background:#9b59b6;}

/* --- Widget Panels --- */
.widget{position:absolute;background:#111;padding:15px;border-radius:15px;min-width:200px;min-height:150px;box-shadow:0 0 20px rgba(155,89,182,0.7);cursor:move;overflow:hidden;}
.widget h2{font-size:1.2em;margin-bottom:10px;color:#9b59b6;}
.widget textarea{width:100%;height:100px;background:#222;color:white;border:none;padding:10px;border-radius:10px;resize:none;font-family:'Inter',sans-serif;}
.widget .btn{padding:8px 15px;margin-top:5px;background:#9b59b6;color:white;border:none;border-radius:8px;cursor:pointer;transition:0.3s;}
.widget .btn:hover{background:#8e44ad;}

/* --- Music Control --- */
#musicControl{position:fixed;bottom:20px;right:20px;background:#222;padding:10px 15px;border-radius:12px;cursor:pointer;color:#9b59b6;font-weight:bold;z-index:10;}

/* --- Password Modal --- */
#passwordModal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.95);display:flex;justify-content:center;align-items:center;flex-direction:column;z-index:9999;}
#passwordModal input{padding:15px;border-radius:10px;border:none;width:200px;margin-bottom:15px;text-align:center;}
#passwordModal button{padding:10px 20px;border:none;border-radius:10px;background:#9b59b6;color:white;cursor:pointer;}
#passwordModal p{color:red;margin-top:10px;}

/* --- Neon Particle Background --- */
#particles{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;}
</style>
</head>
<body>

<!-- Particle Canvas -->
<canvas id="particles"></canvas>

<!-- Password Modal -->
<div id="passwordModal">
    <h2>Enter Password</h2>
    <input type="password" id="passInput" placeholder="Password">
    <button onclick="checkPassword()">Enter</button>
    <p id="passError"></p>
</div>

<h1>Flu Tools 3000 Ultra Hub</h1>

<div class="tabs">
    <div class="tab active" onclick="openTab('widgets')">Widgets</div>
</div>

<!-- Background Music -->
<audio id="bgMusic" loop>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
</audio>
<div id="musicControl" onclick="toggleMusic()">Play Music</div>

<!-- Widgets -->
<div class="widget" id="notepadWidget" style="top:100px;left:50px;">
    <h2>Notepad</h2>
    <textarea id="noteArea" placeholder="Write something..."></textarea>
    <button class="btn" onclick="saveNote()">Save</button>
    <button class="btn" onclick="clearNote()">Clear</button>
</div>

<div class="widget" id="calculatorWidget" style="top:100px;left:300px;">
    <h2>Calculator</h2>
    <input type="text" id="calcDisplay" readonly style="width:100%;height:30px;margin-bottom:5px;border-radius:5px;border:none;padding:5px;text-align:right;">
    <div>
        <button class="btn" onclick="calcInput('7')">7</button>
        <button class="btn" onclick="calcInput('8')">8</button>
        <button class="btn" onclick="calcInput('9')">9</button>
        <button class="btn" onclick="calcInput('/')">/</button>
    </div>
    <div>
        <button class="btn" onclick="calcInput('4')">4</button>
        <button class="btn" onclick="calcInput('5')">5</button>
        <button class="btn" onclick="calcInput('6')">6</button>
        <button class="btn" onclick="calcInput('*')">*</button>
    </div>
    <div>
        <button class="btn" onclick="calcInput('1')">1</button>
        <button class="btn" onclick="calcInput('2')">2</button>
        <button class="btn" onclick="calcInput('3')">3</button>
        <button class="btn" onclick="calcInput('-')">-</button>
    </div>
    <div>
        <button class="btn" onclick="calcInput('0')">0</button>
        <button class="btn" onclick="calcInput('.')">.</button>
        <button class="btn" onclick="calcResult()">=</button>
        <button class="btn" onclick="calcInput('+')">+</button>
    </div>
</div>

<div class="widget" id="todoWidget" style="top:300px;left:50px;">
    <h2>To-Do List</h2>
    <input type="text" id="todoInput" placeholder="New Task" style="width:100%;padding:5px;border-radius:5px;border:none;margin-bottom:5px;">
    <button class="btn" onclick="addTask()">Add Task</button>
    <ul id="todoList" style="list-style:none;margin-top:10px;"></ul>
</div>

<script>
/* --- Password --- */
function checkPassword() {
    let password = '5782';
    let input = document.getElementById('passInput').value;
    if(input===password){document.getElementById('passwordModal').style.display='none';}
    else{document.getElementById('passError').innerText='Incorrect password!';}
}

/* --- Music --- */
function toggleMusic(){
    let music=document.getElementById('bgMusic');
    let control=document.getElementById('musicControl');
    if(music.paused){music.play();control.innerText='Pause Music';}
    else{music.pause();control.innerText='Play Music';}
}

/* --- Notepad --- */
function saveNote(){localStorage.setItem('fluNote',document.getElementById('noteArea').value);alert('Saved!');}
function clearNote(){document.getElementById('noteArea').value='';localStorage.removeItem('fluNote');}
document.getElementById('noteArea').value = localStorage.getItem('fluNote') || '';

/* --- Calculator --- */
let calcCurrent='';
function calcInput(val){calcCurrent+=val;document.getElementById('calcDisplay').value=calcCurrent;}
function calcResult(){try{calcCurrent=eval(calcCurrent);document.getElementById('calcDisplay').value=calcCurrent;}catch{document.getElementById('calcDisplay').value='Error';calcCurrent='';}}

/* --- To-Do List --- */
function addTask(){
    let val=document.getElementById('todoInput').value;
    if(!val)return;
    let li=document.createElement('li'); li.innerText=val;
    li.style.cursor='pointer';
    li.onclick=function(){this.remove(); saveTasks();}
    document.getElementById('todoList').appendChild(li);
    document.getElementById('todoInput').value='';
    saveTasks();
}
function saveTasks(){
    let tasks=[];
    document.querySelectorAll('#todoList li').forEach(li=>tasks.push(li.innerText));
    localStorage.setItem('fluTasks',JSON.stringify(tasks));
}
function loadTasks(){
    let tasks=JSON.parse(localStorage.getItem('fluTasks')||'[]');
    tasks.forEach(t=>{
        let li=document.createElement('li'); li.innerText=t;
        li.style.cursor='pointer';
        li.onclick=function(){this.remove(); saveTasks();}
        document.getElementById('todoList').appendChild(li);
    });
}
loadTasks();

/* --- Draggable Widgets --- */
let widgets=document.querySelectorAll('.widget');
widgets.forEach(w=>{
    w.onmousedown=function(e){
        let offsetX=e.clientX-w.offsetLeft;
        let offsetY=e.clientY-w.offsetTop;
        function mouseMoveHandler(e){
            w.style.left=(e.clientX-offsetX)+'px';
            w.style.top=(e.clientY-offsetY)+'px';
        }
        function mouseUpHandler(){document.removeEventListener('mousemove',mouseMoveHandler);document.removeEventListener('mouseup',mouseUpHandler);}
        document.addEventListener('mousemove',mouseMoveHandler);
        document.addEventListener('mouseup',mouseUpHandler);
    }
});

/* --- Neon Particle Background --- */
const canvas=document.getElementById('particles'); const ctx=canvas.getContext('2d');
let particles=[];
function resizeCanvas(){canvas.width=window.innerWidth;canvas.height=window.innerHeight;}
window.addEventListener('resize',resizeCanvas);resizeCanvas();
for(let i=0;i<100;i++){particles.push({x:Math.random()*canvas.width,y:Math.random()*canvas.height,radius:Math.random()*2+1,dx:(Math.random()-0.5)*1,dy:(Math.random()-0.5)*1})}
function drawParticles(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    particles.forEach(p=>{
        ctx.beginPath();
        ctx.arc(p.x,p.y,p.radius,0,Math.PI*2);
        ctx.fillStyle='rgba(155,89,182,0.7)';
        ctx.fill();
        p.x+=p.dx; p.y+=p.dy;
        if(p.x<0||p.x>canvas.width)p.dx*=-1;
        if(p.y<0||p.y>canvas.height)p.dy*=-1;
    });
    requestAnimationFrame(drawParticles);
}
drawParticles();
</script>

</body>
</html>
